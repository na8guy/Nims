<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nims Climb</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <!-- Background Layers -->
        <div class="background">
            <div class="mountain-layer layer-1"></div>
            <div class="mountain-layer layer-2"></div>
            <div class="mountain-layer layer-3"></div>
            <div class="cloud-layer"></div>
        </div>

        <!-- Game Canvas -->
        <canvas id="gameCanvas" class="hidden"></canvas>

        <!-- Altitude Graph -->
        <div class="altitude-graph">
            <svg id="graphSvg">
                <polyline id="altitudeLine" points="0,100%" fill="none" stroke="#00ff88" stroke-width="3" filter="url(#glow)"/>
                <defs>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="2.5" result="blur"/>
                        <feMerge>
                            <feMergeNode in="blur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
            </svg>
            <div class="altitude-markers"></div>
        </div>

        <!-- Altitude Scale -->
        <div class="altitude-scale">
            <div class="marker" data-altitude="1000">1000m</div>
            <div class="marker" data-altitude="2000">2000m</div>
            <div class="marker" data-altitude="3000">3000m</div>
            <div class="marker" data-altitude="4000">4000m</div>
            <div class="marker" data-altitude="5000">5000m</div>
        </div>

        <!-- Nims Character -->
        <div id="nimsCharacter" class="nims hidden"></div>

        <!-- UI Overlay -->
        <div class="ui-overlay">
            <div class="status">
                <div class="balance-display">
                    BNB: <span id="bnbBalance">0.0</span> | NIMS: <span id="nimsBalance">0.0</span>
                </div>
                <div class="altitude-display">Altitude: <span id="altitude">1000</span>m</div>
                <div class="multiplier-display">Multiplier: <span id="multiplier">1.0</span>x</div>
            </div>
            <div class="controls">
                <input type="number" id="stakeInput" placeholder="Stake (BNB)" step="0.01" min="0.01" aria-label="Stake amount">
                <select id="tokenSelect" aria-label="Select currency">
                    <option value="BNB">BNB</option>
                    <option value="NIMS">NIMS</option>
                </select>
                <button id="stakeButton">Stake</button>
            </div>
            <div class="game-controls hidden">
                <button id="restButton" disabled>Rest</button>
                <button id="cashoutButton" disabled>Cashout</button>
            </div>
            <div class="raffle-display">
                Earned: <span id="earnedTickets">0</span> | Purchased: <span id="purchasedTickets">0</span>
            </div>
            <div class="leaderboard">
                <h3>Leaderboard</h3>
                <ul id="leaderboardList" aria-label="Leaderboard"></ul>
            </div>
            <div id="errorPopup" class="error-popup" role="alert"></div>
        </div>

        <!-- Avalanche Overlay -->
        <div id="avalancheOverlay" class="avalanche"></div>
    </div>
    <script src="main.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</body>
</html>
